var bbTrivia = {

    // VARIABLE DECLARATION
    qaBank: {
        q1: {
            q: 'Walter White\'s transformation from nerdy high school chemistry teacher to criminal kingpin all started with what specific medical diagnosis?',
            a1: 'Pancreatic cancer',
            a2: 'Lupus',
            a3: 'AIDS',
            a4: 'Lung cancer',
            correct: 'Lung cancer'
        },
        q2: {
            q: 'What nickname does Jesse go by before he joins up with Mr. White?',
            a1: 'Meth Man',
            a2: 'Cap\'n Cook',
            a3: 'K1ngpin',
            a4: 'Crazy 8',
            correct: 'Cap\'n Cook'
        },
        q3: {
            q: 'What is the name of the car wash Walter works at to make ends meet?',
            a1: '33rd Street Car Wash',
            a2: 'Scrub\'n Suds',
            a3: 'A1A Car Wash',
            a4: 'AAA Car Sparkle',
            correct: 'A1A Car Wash'
        },
        q4: {
            q: 'Saul suggests that Walter may want to use a "guy" he has that can make Walter disappear. What is the type of business that serves as a front for this disappearance service?',
            a1: 'Vacuum shop',
            a2: 'Computer repair store',
            a3: 'Pest control company',
            a4: 'Car wash',
            correct: 'Vacuum shop'
        },
        q5: {
            q: 'What substance is Lydia always asking for, for her tea, that eventually ends up being linked to her likely death in the final episode of the series?',
            a1: 'Saccharin',
            a2: 'Stevia',
            a3: 'Splenda',
            a4: 'Brown sugar',
            correct: 'Stevia'
        },
        q6: {
            q: 'Walter White In the final episode, who is the lone survivor of Walters revenge attack on Jack Welker and his men.',
            a1: 'Walter White',
            a2: 'Jesse Pinkman',
            a3: 'Jack Welker',
            a4: 'Todd Alquist',
            correct: 'Jesse Pinkman'
        },
        q7: {
            q: 'What is the name of Jesse’s younger brother?',
            a1: 'John',
            a2: 'Jake',
            a3: 'James',
            a4: 'Josh',
            correct: 'Jake'
        },
        q8: {
            q: 'What does Walt Jr claim that veggie bacon smells like in the first ever episode?',
            a1: 'Cabbage',
            a2: 'A trash can',
            a3: 'Band-Aids',
            a4: 'Medicine',
            correct: 'Band-Aids'
        },
        q9: {
            q: 'What was the name of the meth that Jesse initially made and distributed?',
            a1: 'Cypress T',
            a2: 'Crazy 8',
            a3: 'Cherry 6',
            a4: 'Chili P',
            correct: 'Chili P'
        },
        q10: {
            q: 'What does Lydia say the average purity of meth is in the Czech Republic?',
            a1: '40%',
            a2: '50%',
            a3: '60%',
            a4: '70%',
            correct: '60%'
        },
        q11: {
            q: 'What is the name of the acid that is used to corrosively dispose of Walter’s victims?',
            a1: 'Hydrochloric Acid',
            a2: 'Hydrofluoric Acid',
            a3: 'Hydrochloride',
            a4: 'Sulfuric Acid',
            correct: 'Hydrofluoric Acid'
        },
        q12: {
            q: 'What was the name of the plant that Walt used to poison Brock?',
            a1: 'Lily of the Valley',
            a2: 'Wollemi Pine',
            a3: 'Yellow Jessamine',
            a4: 'Palma Christi',
            correct: 'Lily of the Valley'
        },
        q13: {
            q: 'What name did Walt Jr adopt during his teen rebellion phase?',
            a1: 'Scotty',
            a2: 'Flynn',
            a3: 'Bane',
            a4: 'Jack',
            correct: 'Flynn'
        },
        q14: {
            q: 'What is Walt’s main car in the series?',
            a1: '1986 Toyota Tercel',
            a2: '2004 Pontiac Aztec',
            a3: '2006 Chrysler PT Cruiser',
            a4: '2002 Toyota RAV4',
            correct: '2004 Pontiac Aztec'
        },
        q15: {
            q: 'What does Walter White use to kill Krazy-8 (Maximinio Arciniega)?',
            a1: 'Bike lock',
            a2: 'Screwdriver',
            a3: 'Bunsen Burner',
            a4: 'Knife',
            correct: 'Bike lock'
        },
        q16: {
            q: 'What flavor Venezia Pizza does Walt end up hurling on to the garage roof?',
            a1: 'Ham and Pineapple',
            a2: 'Pepperoni',
            a3: 'Tuna and Olive',
            a4: 'Sausage & Onion',
            correct: 'Pepperoni'
        },
        q17: {
            q: 'What is Walter White’s middle name?',
            a1: 'Hartwell',
            a2: 'Archibald',
            a3: 'Carlos',
            a4: 'Whitman',
            correct: 'Hartwell'
        },
        q18: {
            q: 'What was the name of the video game that Jessie plays during “Problem Dog”?',
            a1: 'Rage',
            a2: 'Shooter',
            a3: 'Hitman',
            a4: 'Knockout',
            correct: 'Rage'
        },
        q19: {
            q: 'In season two, an exhibition of which artist did Jane take Jesse to see?',
            a1: 'Andy Warhol',
            a2: 'Georgia O’Keeffe',
            a3: 'Jean-Michel Basquiat',
            a4: 'Roy Lichtenstein',
            correct: 'Georgia O’Keeffe'
        },
        q20: {
            q: 'Jesse and Badger used to be in a band together – what was it called?',
            a1: 'Spewdriver',
            a2: 'Schlepladder',
            a3: 'Twaughthammer',
            a4: 'Generaldrill',
            correct: 'Twaughthammer'
        },
        q21: {
            q: 'The two cartoon chickens in the company logo for Los Pollos Hermanos are wearing:',
            a1: 'Sunglasses',
            a2: 'Stripy Scarves',
            a3: 'Ponchos',
            a4: 'Flip-Flops',
            correct: 'Ponchos'
        },
        q22: {
            q: 'What was the website created by Walt Jr to raise donation money for his father’s rising medical costs, which was later used by Saul Goodman to launder Walt’s drug money?',
            a1: 'helpcuremydad.com',
            a2: 'savewalterwhite.com',
            a3: 'savemydad.com',
            a4: 'curewalterwhite.com',
            correct: 'savewalterwhite.com'
        },
        q23: {
            q: 'What is Mike\'s granddaugher\'s name?',
            a1: 'Kaylee',
            a2: 'Jenny',
            a3: 'Bailee',
            a4: 'Maxine',
            correct: 'Kaylee'
        },
        q24: {
            q: 'What was the name of Gus’s original partner in the 80s?',
            a1: 'James Martinez',
            a2: 'Hector Salamanca',
            a3: 'Max Arciniega',
            a4: 'Hugo Siero',
            correct: 'Max Arciniega'
        },
        q25: {
            q: 'In season four, Mike gets shot in which part of his body?',
            a1: 'His Forehead',
            a2: 'His Chin',
            a3: 'His Ear',
            a4: 'His Nose',
            correct: 'His Ear'
        },
        q26: {
            q: 'In season four, Skyler and Walter begin attending meetings of which organization?',
            a1: 'Alcoholics Anonymous',
            a2: 'Gamblers Anonymous',
            a3: 'Overeaters Anonymous',
            a4: 'Narcotics Anonymous',
            correct: 'Gamblers Anonymous'
        },
        q27: {
            q: 'In season four, which character operates a forklift for Walter while Jesse is gone?',
            a1: 'Gale',
            a2: 'Tyrus',
            a3: 'Keith',
            a4: 'Corbin',
            correct: 'Tyrus'
        },
        q28: {
            q: 'Walter puts a GPS tracking bug on which character’s car?',
            a1: 'Hank',
            a2: 'Mike',
            a3: 'Jesse',
            a4: 'Gus',
            correct: 'Gus'
        },
        q29: {
            q: 'Which character is audited by the IRS?',
            a1: 'Skyler',
            a2: 'Saul',
            a3: 'Hank',
            a4: 'Ted',
            correct: 'Ted'
        },
        q30: {
            q: 'What is the name of the company founded by Walter’s former chemistry assistant, Gretchen?',
            a1: 'Schwartz Pharmaceuticals',
            a2: 'West Road Chemical',
            a3: 'Schwartz Research, Inc.',
            a4: 'Gray Matter',
            correct: 'Gray Matter'
        },
        q31: {
            q: 'In season 1, what does Jesse say “is sacred”?',
            a1: 'Flipping a Coin',
            a2: 'Promises',
            a3: 'Pinky Swear',
            a4: 'Handshake',
            correct: 'Flipping a Coin'
        },
        q32: {
            q: 'In season 1, Walter hallucinates a student saying what word instead of “midterm”?',
            a1: 'Murder',
            a2: 'Massacre',
            a3: 'Meth',
            a4: 'Mayhem',
            correct: 'Murder'
        },
        q33: {
            q: 'In season 1, Walter learns that Krazy-8’s father owns what kind of store?',
            a1: 'Furniture',
            a2: 'Electronics',
            a3: 'Hardware',
            a4: 'Grocery',
            correct: 'Furniture'
        },
        q34: {
            q: 'In season 1, what name does Hank choose for his meth-busting operation?',
            a1: 'Icebreaker',
            a2: 'Black Ice',
            a3: 'Thin Ice',
            a4: 'Ice Man',
            correct: 'Icebreaker'
        },
        q35: {
            q: 'In season four, what gift does Gus bring to Don Eladio?',
            a1: 'Money',
            a2: 'Tequila',
            a3: 'A Car',
            a4: 'A Ring',
            correct: 'Tequila'
        }

    },
    gameQuestions: [],  // container to hold the randomly selected question numbers for current game
    playerGuesses: [],
    qCount: 0,
    // intervalID: null,

// TODO ------------------------------------------------------------------
//Create on-click function to Start quiz (start button)
// - runs initialize function
// - IntervalID = setInterval to run serveQuestion function every 15 seconds
// TODO ------------------------------------------------------------------

    startGame: function () {
        this.gameQuestions = [];                                   // clear any previous questions
        this.playerGuesses = [];                                   // clear any previous guesses
        // this.intervalID = null;

        this.gameQuestions = this.selectNRandom(this.qaBank, 10);  // set 10 random questions for current game
        this.qCount = 0;                                           // set question index counter to 0 (first question)
        $('<button>')                                              // create a button
            .attr('type', 'button')                                //   make it behave as a generic button
            .attr('id', 'start-btn')                               //   give it 'start-btn' id
            .addClass('btn btn-default btn-lg')                    //   style it
            .text('Start Game')                                    //   label it with 'Start Game'
            .appendTo('#aStage');                                  //   place it in answer stage div in DOM
        $('#start-btn').on('click', function () {                  // when the start button is clicked
            $('#start-btn').hide();                                //   hide the start button
            bbTrivia.play(bbTrivia.gameQuestions[0]);              //   play the first question
        })
    },


    play: function (current) {                                     // play function with current question as an argument
        this.qDisplay(current);                                    // display current question
        $('.a-option').on('click', function () {                   // when one of answer options is clicked
            var guess = ($(this).data('a-val'));                   // store the players selection in a variable
            bbTrivia.playerGuesses.push({'playerChoice': guess});  // store players guess in the playerGuesses question object
            if (guess === current.correct) {                       // if the players guess matches the correct answer for the current question
                console.log('fuck yeah');
            }
            else {
                console.log('you suck');
            }
            bbTrivia.qCount++;
            bbTrivia.play(bbTrivia.gameQuestions[bbTrivia.qCount]);
        })
    },

    // select n number of items from a given object
    // DAMN PROUD OF THIS ONE :)
    selectNRandom: function (object, qty) {                                          // function that takes an object array as an argument and returns a 'qty' of random items from it
        var objectArray = Object.values(object);                                     // create an array of items within the initial object passed to function
        var randomItems = [];                                                        // create an array to house selected items
        while (randomItems.length < qty) {                                           // while there still items to selected
            var item = objectArray[Math.floor(Math.random() * objectArray.length)];  // select a random item
            if (randomItems.includes(item) === false) {                              // if the selected item has not already been selected, then
                randomItems.push(item);                                              // add it to the array of selected items
            }
        }
        return randomItems;
    },


// TODO: Create qDisplay function
// - iterates qCount
// - timeout for 2 seconds before running timer function to allow player to read question


    qDisplay: function (current) {                                       // question display function taking a question object as an argument,
        $('#qStage').empty();                                            // clear question stage
        $('#aStage').empty();                                            // clear question stage
        $('#qStage').html(current.q);                                    // Displays selected question to screen
        var aOptions = [current.a1, current.a2, current.a3, current.a4]; // Array of answer Options
        $.each(aOptions, function (i, v) {                               // for each answer option
            $('<button>')                                                // create a block level button
                .attr('type', 'button')
                .addClass('a-option btn btn-default btn-lg btn-block')
                .data('a-val', v)
                .text(v)
                .appendTo('#aStage');
        })
    },

// TODO -------------------------------------------------------------------------
//Create randomize function here to switch questions up everytime
// var rando = Math.floor(Math.random() * (4 - 1 + 1)) + 1;
// tempArray.splice(rando, 1);
// TODO -------------------------------------------------------------------------
// var ans = this.qaBank[x] + '.G' + num
// $('#aStage').html('<div>' + this.qaBank[x].ans + '</div>')


// TODO: questionTimer function
// - if player guesses question before timer runs out
// - stop timer
// - log their answer by pushing it into the playerGuesses array
// - if timer runs out - question is forfeited and -1 is pushed into playerGuesses array
//
// TODO: quiz end function
// - Loop through all game questions
// - compare each user guess to correct answer
// - display number correct and number wrong at top of page
// - re-display questions and answers marking the one they guessed and the correct one

} // close bbTrivia object

bbTrivia.startGame();
